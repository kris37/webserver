<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.qyer.javaapi.rest.entity.TestPersonBean">

    <resultMap id="personMap" type="TestPersonBean" >
        <id column="ID" property="ID"  />
        <result column="u_name" property="name" />
        <result column="gender" property="gender" />
        <result column="age" property="age" />
    </resultMap>


    <!-- ************** CREATE ************** -->
    <insert id="createPerson" parameterType="TestPersonBean" useGeneratedKeys="true">
        INSERT
        INTO persons
        SET
        u_name = #{name},
        gender = #{gender},
        age = #{age}
    </insert>

    <!-- ************** READ ************** -->
    <select id="getPersonById" resultMap="personMap">
        SELECT
        ID,
        u_name,
        gender,
        age,
        insertion_date
        FROM
        person
    </select>

    <select id="getPersonById" resultMap="personMap" parameterType="Long">
        SELECT
         ID,
        u_name,
        gender,
        age,
        insertion_date
        FROM
        person
        WHERE
        id=#{value};
    </select>


</mapper>